NodeList.prototype.forEach=Array.prototype.forEach,
Array.from=function(e){return Array.prototype.slice.call(e)},

// https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/children$revision/1450401#Polyfill
function(e){e&&e.prototype&&null==e.prototype.children&&Object.defineProperty(e.prototype,"children",{get:function(){for(var e,t=0,o=this.childNodes,n=[];e=o[t++];)1===e.nodeType&&n.push(e);return n}})}(window.Node||window.Element),

// https://raw.githubusercontent.com/webcomponents/template/e2d1c30b3e4f534636573dd50794fdf32bdde111/template.js
function(){"use strict";var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),l=!1;/Trident/.test(navigator.userAgent)&&function(){l=!0;var o=Node.prototype.cloneNode;Node.prototype.cloneNode=function(e){var t=o.call(this,e);return this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;function r(e,t){if(e instanceof DocumentFragment)for(var o;o=e.firstChild;)n.call(this,o,t);else n.call(this,e,t);return e}Node.prototype.insertBefore=r;var t=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?r.call(this,e,null):t.call(this,e),e};var c=Node.prototype.removeChild,a=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,t){return e instanceof DocumentFragment?(r.call(this,e,t),c.call(this,t)):a.call(this,e,t),t},Document.prototype.createDocumentFragment=function(){var e=this.createElement("df");return e.__proto__=DocumentFragment.prototype,e};var i=Document.prototype.importNode;Document.prototype.importNode=function(e,t){t=t||!1;var o=i.call(this,e,t);return e instanceof DocumentFragment&&(o.__proto__=DocumentFragment.prototype),o}}();var c=Node.prototype.cloneNode,p=Document.prototype.createElement,a=Document.prototype.importNode,i=Node.prototype.removeChild,u=Node.prototype.appendChild,d=Node.prototype.replaceChild,t=DOMParser.prototype.parseFromString,o=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}},s=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},m=Element.prototype.querySelectorAll,f=Document.prototype.querySelectorAll,h=DocumentFragment.prototype.querySelectorAll;function y(e,t){if(!e.childNodes.length)return[];switch(e.nodeType){case Node.DOCUMENT_NODE:return f.call(e,t);case Node.DOCUMENT_FRAGMENT_NODE:return h.call(e,t);default:return m.call(e,t)}}var e=function(){if(!n){var e=document.createElement("template"),t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var o=e.cloneNode(!0);return 0===o.content.childNodes.length||0===o.content.firstChild.content.childNodes.length||r}}(),N="template",g=function(){};if(n){var v=document.implementation.createHTMLDocument("template"),D=!0,E=document.createElement("style");E.textContent=N+"{display:none;}";var b=document.head;b.insertBefore(E,b.firstElementChild),g.prototype=Object.create(HTMLElement.prototype);var T=!document.createElement("div").hasOwnProperty("innerHTML");g.decorate=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){var t;for(e.content=v.createDocumentFragment();t=e.firstChild;)u.call(e.content,t);if(T)e.__proto__=g.prototype;else if(e.cloneNode=function(e){return g._cloneNode(this,e)},D)try{C(e),_(e)}catch(e){D=!1}g.bootstrap(e.content)}};var M={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},C=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return x(this)},set:function(e){var t,o=M[(t=e,(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(t)||["",""])[1].toLowerCase())];if(o)for(var n=0;n<o.length;n++)e="<"+o[n]+">"+e+"</"+o[n]+">";for(v.body.innerHTML=e,g.bootstrap(v);this.content.firstChild;)i.call(this.content,this.content.firstChild);var r=v.body;if(o)for(var c=0;c<o.length;c++)r=r.lastChild;for(;r.firstChild;)u.call(this.content,r.firstChild)},configurable:!0})},_=function(e){Object.defineProperty(e,"outerHTML",{get:function(){return"<"+N+">"+this.innerHTML+"</"+N+">"},set:function(e){if(!this.parentNode)throw new Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");v.body.innerHTML=e;for(var t=this.ownerDocument.createDocumentFragment();v.body.firstChild;)u.call(t,v.body.firstChild);d.call(this.parentNode,t,this)},configurable:!0})};C(g.prototype),_(g.prototype),g.bootstrap=function(e){for(var t,o=y(e,N),n=0,r=o.length;n<r&&(t=o[n]);n++)g.decorate(t)},document.addEventListener("DOMContentLoaded",function(){g.bootstrap(document)}),Document.prototype.createElement=function(){var e=p.apply(this,arguments);return"template"===e.localName&&g.decorate(e),e},DOMParser.prototype.parseFromString=function(){var e=t.apply(this,arguments);return g.bootstrap(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return x(this)},set:function(e){o.set.call(this,e),g.bootstrap(this)},configurable:!0,enumerable:!0});var w=/[&\u00A0"]/g,L=/[&\u00A0<>]/g,O=function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}},F=function(e){for(var t={},o=0;o<e.length;o++)t[e[o]]=!0;return t},H=F(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),A=F(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),j=function(e,t,o){switch(e.nodeType){case Node.ELEMENT_NODE:for(var n,r=e.localName,c="<"+r,a=e.attributes,i=0;n=a[i];i++)c+=" "+n.name+'="'+n.value.replace(w,O)+'"';return c+=">",H[r]?c:c+x(e,o)+"</"+r+">";case Node.TEXT_NODE:var l=e.data;return t&&A[t.localName]?l:l.replace(L,O);case Node.COMMENT_NODE:return"\x3c!--"+e.data+"--\x3e";default:throw window.console.error(e),new Error("not implemented")}},x=function(e,t){"template"===e.localName&&(e=e.content);for(var o,n="",r=t?t(e):s.get.call(e),c=0,a=r.length;c<a&&(o=r[c]);c++)n+=j(o,e,t);return n}}if(n||e){g._cloneNode=function(e,t){var o=c.call(e,!1);return this.decorate&&this.decorate(o),t&&(u.call(o.content,c.call(e.content,!0)),P(o.content,e.content)),o};var P=function(e,t){if(t.querySelectorAll){var o=y(t,N);if(0!==o.length)for(var n,r,c=y(e,N),a=0,i=c.length;a<i;a++)r=o[a],n=c[a],g.decorate&&g.decorate(r),d.call(n.parentNode,S.call(r,!0),n)}},S=Node.prototype.cloneNode=function(e){var t;if(!l&&r&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();t=q.call(this.ownerDocument,this,!0)}else t=this.nodeType===Node.ELEMENT_NODE&&this.localName===N&&this.namespaceURI==document.documentElement.namespaceURI?g._cloneNode(this,e):c.call(this,e);return e&&P(t,this),t},q=Document.prototype.importNode=function(e,t){if(t=t||!1,e.localName===N)return g._cloneNode(e,t);var o=a.call(this,e,t);return t&&(P(o,e),function(e){for(var t,o,n=y(e,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]'),r=0;r<n.length;r++){o=n[r],(t=p.call(document,"script")).textContent=o.textContent;for(var c,a=o.attributes,i=0;i<a.length;i++)c=a[i],t.setAttribute(c.name,c.value);d.call(o.parentNode,t,o)}}(o)),o}}n&&(window.HTMLTemplateElement=g)}();
